/* static/css/tailwind_input.css */

/*
Inject Tailwind's base styles, component classes, and utility classes.
These are processed by PostCSS with the Tailwind plugin.
*/

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .btn-base {
        @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
    }
    .btn-primary {
        @apply btn-base border border-transparent text-white bg-primary hover:bg-primary-dark focus:ring-primary;
    }
    .btn-secondary {
        @apply btn-base border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-primary;
    }
    .btn-success {
        @apply btn-base border border-transparent text-white bg-green-600 hover:bg-green-700 focus:ring-green-500;
    }
    .btn-danger {
        @apply btn-base border border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500;
    }
    .btn-muted {
        @apply btn-base border border-transparent text-gray-700 bg-gray-100 hover:bg-gray-200 focus:ring-gray-400;
    }
    .btn-save {
        @apply btn-primary;
    }
    .btn-create {
        @apply btn-success;
    }
    .ui-btn {
        @apply btn-base;
    }
    .ui-btn--primary {
        @apply btn-primary;
    }
    .ui-btn--secondary {
        @apply btn-secondary;
    }
    .ui-btn--success {
        @apply btn-success;
    }
    .ui-btn--danger {
        @apply btn-danger;
    }
    .ui-btn--muted {
        @apply btn-muted;
    }
    .ui-btn--link {
        @apply btn-base bg-transparent text-primary hover:bg-primary/10 focus:ring-primary;
    }

    .surface-card {
        @apply bg-transparent border-0 shadow-none rounded-none;
    }
    .surface-card--elevated {
        @apply shadow-none;
    }
    .surface-section {
        @apply bg-transparent border-0 rounded-none;
    }
    .surface-divider {
        @apply border-t border-border-default;
    }

    .card-header {
        @apply flex items-start justify-between gap-4;
    }
    .card-title {
        @apply text-xl font-semibold text-text-strong;
    }
    .card-subtitle {
        @apply text-sm text-text-muted;
    }
    .card-body {
        @apply mt-6 space-y-6;
    }
    .card-actions {
        @apply flex items-center gap-2;
    }
    .section-title {
        @apply text-lg font-semibold text-text-strong;
    }
    .section-description {
        @apply text-sm text-text-muted;
    }

    .form-label {
        @apply block text-sm font-medium text-gray-700;
    }
    .form-hint {
        @apply mt-1 text-xs text-text-muted;
    }
    .form-error {
        @apply mt-1 text-xs text-danger;
    }
    .input-control {
        @apply form-input block w-full rounded-md border border-border-default shadow-sm focus:border-primary focus:ring-primary sm:text-sm transition-colors duration-150;
    }
    .input-select {
        @apply form-select block w-full rounded-md border border-border-default shadow-sm focus:border-primary focus:ring-primary sm:text-sm transition-colors duration-150;
    }
    .input-textarea {
        @apply form-textarea block w-full rounded-md border border-border-default shadow-sm focus:border-primary focus:ring-primary sm:text-sm transition-colors duration-150;
    }

    .toolbar {
        @apply flex flex-wrap items-center gap-3 justify-between;
    }
    .toolbar-title {
        @apply text-lg font-semibold text-text-strong;
    }

    .badge {
        @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold;
    }
    .badge-primary {
        @apply bg-primary/10 text-primary;
    }
    .badge-success {
        @apply bg-success/10 text-success;
    }
    .badge-warning {
        @apply bg-warning/10 text-warning;
    }
    .badge-danger {
        @apply bg-danger/10 text-danger;
    }
    .badge-muted {
        @apply bg-gray-100 text-gray-700;
    }
    .flash-messages-wrapper {
        @apply px-4 sm:px-6 lg:px-8;
    }
    body.admin-panel .flash-messages-wrapper {
        @apply lg:pl-64;
    }

    .alert {
        @apply rounded-lg px-4 py-3 flex items-center gap-3 border;
    }
    .alert-icon {
        @apply text-xl flex-shrink-0 self-center leading-none;
    }
    .alert-content {
        @apply text-sm;
    }
    .alert-info {
        @apply alert bg-accent-soft border-accent-border text-info;
    }
    .alert-success {
        @apply alert bg-green-50 border-green-200 text-success;
    }
    .alert-warning {
        @apply alert bg-yellow-50 border-yellow-200 text-warning;
    }
    .alert-danger {
        @apply alert bg-red-50 border-red-200 text-danger;
    }

    .modal-shell {
        @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    }
    .modal-overlay {
        @apply fixed inset-0 bg-gray-900/70 transition-opacity duration-300 ease-in-out;
    }
    .modal-panel {
        @apply relative bg-white rounded-xl shadow-surface-xl transform transition-all duration-300 ease-out sm:max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden;
    }
    .modal-header {
        @apply px-6 py-4 border-b border-border-default flex items-start justify-between gap-4;
    }
    .modal-title {
        @apply text-lg font-semibold text-text-strong;
    }
    .modal-body {
        @apply px-6 py-5 overflow-y-auto space-y-6;
    }
    .modal-footer {
        @apply px-6 py-4 border-t border-border-default flex items-center justify-end gap-3;
    }

    .table-shell {
        @apply w-full text-left;
    }
    .table-shell thead {
        @apply bg-gray-50 text-xs uppercase text-gray-500;
    }
    .table-shell th {
        @apply px-4 py-3 font-semibold;
    }
    .table-shell td {
        @apply px-4 py-3 text-sm text-gray-700;
    }
    .table-shell tbody tr {
        @apply border-b border-border-default transition-colors;
    }
    .table-shell tbody tr:hover,
    .data-table tbody tr:hover,
    .table-row-interactive:hover {
        @apply bg-gray-50;
    }

    .progress-bar {
        @apply bg-primary h-2.5 rounded-full transition-all duration-500 ease-out;
        width: var(--progress, 0%);
    }

    .color-indicator {
        @apply inline-block w-4 h-4 rounded-full border border-border-default flex-shrink-0;
    }

    .stat-card {
        @apply p-5 flex flex-col gap-2;
    }
    .stat-kicker {
        @apply text-xs uppercase tracking-wide text-text-muted;
    }
    .stat-value {
        @apply text-2xl font-semibold text-text-strong;
    }
    .title-wrapper {
        @apply flex items-center gap-2;
    }
    .title-wrapper b {
        @apply mb-0;
    }
}
@layer components {
    .page-section + .page-section {
        @apply border-t border-border-default pt-8 mt-8;
    }
}
@layer components {
    .table-card {
        @apply bg-white border border-border-default rounded-lg shadow-sm;
    }
}
@layer components {
    .bg-white.shadow-md.rounded-lg {
        @apply bg-transparent shadow-none rounded-none border-0;
    }
}
@layer components {
    .toast-container {
        @apply fixed inset-x-0 bottom-6 px-4 safe-area-bottom w-full z-[1200] flex flex-col items-center gap-2.5 pointer-events-none;
    }
}

/* Custom styles for rendered markdown in workflow results */
@layer components {
    .workflow-result-text ul {
      @apply list-disc pl-5 my-2;
    }
    .workflow-result-text ol {
      @apply list-decimal pl-5 my-2;
    }
    .workflow-result-text li {
      @apply mb-1;
    }
    .workflow-result-text p {
      @apply mb-2;
    }
}

/* Admin Responsive Table Styles (migrated from admin.css) */
@layer utilities {
    /* Utility to offset fixed bottom elements by device safe-area insets */
    .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    /* Apply these styles for screens smaller than Tailwind's 'sm' breakpoint (typically < 640px) */
    @media (pointer: fine) {
        .toast-container {
            @apply inset-x-auto left-1/2 right-auto bottom-auto top-16 transform -translate-x-1/2 px-0 w-11/12 max-w-md;
        }
    }

    @media (max-width: calc(theme('screens.sm') - 1px)) {
        /* Keep a real table structure on mobile while tightening spacing */
        .data-table {
            width: 100%;
            table-layout: auto;
            border-collapse: separate;
        }

        .data-table thead {
            display: table-header-group !important;
        }

        .data-table thead th {
            @apply px-3 py-2 uppercase tracking-wide;
            font-size: 0.7rem;
        }

        .data-table tr {
            display: table-row !important;
            margin-bottom: 0 !important;
        }

        .data-table tbody tr:last-child td {
            border-bottom-width: 0 !important;
        }

        .data-table th,
        .data-table td {
            display: table-cell !important;
            width: auto !important;
            padding-left: theme('spacing.3') !important;
            padding-right: theme('spacing.3') !important;
        }

        .data-table td {
            @apply align-middle text-sm leading-tight;
            border-bottom-width: 1px !important;
        }

        .data-table td.text-right.sm\:text-left {
            text-align: left !important;
        }

        .data-table td::before {
            content: none !important;
        }

        /* Ensure select elements within tables stay easy to interact with */
        .data-table .role-select {
            @apply w-full text-left;
        }
    }
    /*
       Note: The desktop style for .role-select (e.g., w-auto) is expected to be
       handled by the default Tailwind classes applied directly to the select element
       in the HTML template (e.g., class="... w-auto ...").
       The @media query above specifically overrides this for smaller screens.
       No need for a separate @screen sm rule here for .role-select if HTML handles desktop.
    */
}

@layer components {
    body.admin-panel .toast-container {
        @apply z-[1300];
    }
}
@layer components {
    .title-updated {
        animation: titleFadeIn 0.5s ease-out;
    }
}
@keyframes titleFadeIn {
    from {
        opacity: 0.5;
        transform: translateY(-2px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.hidden {
    display: none;
}
