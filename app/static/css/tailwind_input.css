/* static/css/tailwind_input.css */

/*
Inject Tailwind's base styles, component classes, and utility classes.
These are processed by PostCSS with the Tailwind plugin.
*/

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .btn {
        @apply font-bold py-2 px-4 rounded;
    }
    .btn-primary {
        @apply bg-blue-500 text-white;
    }
    .btn-primary:hover {
        @apply bg-blue-700;
    }
}
    .btn-save {
        @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
    }

    .btn-create {
        @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500;
    }

/* Custom styles for rendered markdown in workflow results */
@layer components {
    .workflow-result-text ul {
      @apply list-disc pl-5 my-2;
    }
    .workflow-result-text ol {
      @apply list-decimal pl-5 my-2;
    }
    .workflow-result-text li {
      @apply mb-1;
    }
    .workflow-result-text p {
      @apply mb-2;
    }
}

/* Admin Responsive Table Styles (migrated from admin.css) */
@layer utilities {
    /* Utility to offset fixed bottom elements by device safe-area insets */
    .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    /* Apply these styles for screens smaller than Tailwind's 'sm' breakpoint (typically < 640px) */
    @media (max-width: calc(theme('screens.sm') - 1px)) {
        .data-table thead {
            @apply hidden; /* Table headers are hidden on small screens */
        }

        /*
           TRs become blocks with bottom margin for separation on mobile.
           This is primarily handled by Tailwind classes in HTML:
           <tr class="block sm:table-row border-b sm:border-none mb-4 sm:mb-0">
           The CSS below ensures the last row doesn't have extra margin/border.
        */
        .data-table tbody tr:last-child {
            @apply border-b-0 mb-0; /* Remove border and margin from the last table row in the body */
        }

        .data-table td {
            /*
               TDs are blocks on mobile, with padding.
               HTML classes: px-4 py-3 ... block sm:table-cell ... relative border-b sm:border-none
               Override padding-left to make space for the data-label.
               Original admin.css: padding-left: calc(40% + 0.5rem) !important;
               Label width is ~40%, gap is 0.5rem (theme('spacing.2'))
            */
            padding-left: calc(40% + theme('spacing.2')) !important;
            @apply relative block text-right; /* Content is text-right, label is text-left */
            /* Individual td bottom borders are removed as TR handles separation on mobile */
            border-bottom-width: 0 !important;
        }

        .data-table td::before {
            content: attr(data-label);
            position: absolute;
            /* td has pl-4 (1rem) from HTML, label starts at 1.5rem from td edge */
            left: theme('spacing.6'); /* 1.5rem */
            top: theme('spacing.3');   /* 0.75rem, aligns with td's py-3 */
            /* Original admin.css: width: calc(40% - 1.5rem); */
            width: calc(40% - theme('spacing.6')); /* Label width area */
            padding-right: theme('spacing.2'); /* 0.5rem gap after label text */
            @apply whitespace-nowrap text-left font-semibold text-gray-700 overflow-hidden text-ellipsis;
        }

        /* Ensure select elements within stacked tables take full width on mobile */
        .data-table .role-select {
            @apply w-full text-left;
        }
    }
    /*
       Note: The desktop style for .role-select (e.g., w-auto) is expected to be
       handled by the default Tailwind classes applied directly to the select element
       in the HTML template (e.g., class="... w-auto ...").
       The @media query above specifically overrides this for smaller screens.
       No need for a separate @screen sm rule here for .role-select if HTML handles desktop.
    */
}
.hidden {
    display: none;
}
