<!-- app/templates/layout/components/form_layout.html -->
{# Shared macros to enforce consistent form shells and sections across the app #}
{% macro card(
    title,
    description=None,
    centered=False,
    wrapper_classes='w-full',
    title_tag='h2',
    title_classes='card-title',
    description_classes='card-subtitle',
    divider=True,
    divider_classes='surface-divider',
    body_classes='card-body',
    surface=True,
    surface_classes='surface-card',
    padding_classes='p-6 md:p-8',
    actions=None
) -%}
{# Wrapper handles centering when needed #}
<div class="{{ 'flex flex-col items-center' if centered else '' }}">
    {# Container toggles between surfaced card and inline section #}
    <div class="{{ wrapper_classes }} {% if surface %}{{ surface_classes }} {{ padding_classes }}{% endif %}">
        <div class="card-header">
            <div class="flex-1">
                <{{ title_tag }} class="{{ title_classes }}">{{ title }}</{{ title_tag }}>
                {% if description %}
                    <p class="{{ description_classes }}">{{ description }}</p>
                {% endif %}
            </div>
            {% if actions %}
            <div class="card-actions">
                {{ actions | safe }}
            </div>
            {% endif %}
        </div>
        {% if divider %}
            <div class="mt-4 {{ divider_classes }}"></div>
        {% endif %}
        <div class="{{ body_classes }}">
            {{ caller() }}
        </div>
    </div>
</div>
{%- endmacro %}

{% macro section(title=None, description=None, divider=False, body_classes='space-y-4') -%}
<section class="space-y-3">
    {% if title %}
        <h3 class="section-title">{{ title }}</h3>
    {% endif %}
    {% if description %}
        <p class="section-description">{{ description }}</p>
    {% endif %}
    <div class="{{ body_classes }}">
        {{ caller() }}
    </div>
    {% if divider %}
        <div class="surface-divider pt-3"></div>
    {% endif %}
</section>
{%- endmacro %}
